<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>VSXchangeZA ‚Äî Dashboard</title>
  <meta name="color-scheme" content="dark">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./css/dashboard.css">
  <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
</head>
<body>
  <!-- App Header -->
  <header class="appbar">
    <div class="container appbar-row">
      <button class="hamburger" id="hamburger" aria-label="Toggle menu"><span></span><span></span><span></span></button>
      <a class="brand" href="dashboard.html">VSXchangeZA</a>
      
      <!-- Modernized Search -->
      <form class="search" id="globalSearchForm" role="search" onsubmit="return false;">
        <input id="globalSearch" type="search" placeholder="üîç Search skills, people, farms‚Ä¶" autocomplete="off">
        <button type="submit">‚åï</button>
        <ul id="searchResults" class="search-results"></ul>
      </form>

      <nav class="topnav">
        <a href="dashboard.html" class="active">Home</a>
        <a href="messages.html">Messages</a>
        <a href="explore.html">Explore</a>
        <a href="profile.html" id="profileLink">Profile</a>
        <a href="settings.html">Settings</a>
        <a id="nearbyBtn" href="#">Nearby</a>
        <button id="logout" class="btn ghost">Logout</button>
      </nav>
    </div>
  </header>

  <!-- Main Layout -->
  <main class="container layout" id="main">
    <!-- Sidebar -->
    <aside id="sidebar" class="sidebar">
      <div class="usercard">
        <div class="avatar" id="avatar">üë§</div>
        <div class="user-meta">
          <p class="hello">Welcome, <strong id="userName">User</strong>!</p>
          <p class="muted" id="userRole">Role ‚Ä¢ Location</p>
        </div>
        <button id="createPostSidebar" class="btn primary full">+ Create Post</button>
      </div>

      <nav class="sidelinks">
        <a href="#">My Skills</a>
        <a href="#">My Listings</a>
        <a href="#">Exchange Requests</a>
      </nav>

      <section class="quick">
        <h3>Quick Actions</h3>
        <div class="chips">
          <button class="chip" id="chipCollaborate">Collaborate ü§ù</button>
          <button class="chip">Hire</button>
          <button class="chip">Post Job</button>
          <button class="chip" id="chipVerify">Get Verified</button>
        </div>
      </section>

      <section class="card stat-card">
        <h4>Community Metrics</h4>
        <div class="stats">
          <div class="stat"><strong id="statUsers">‚Äî</strong><span>Users</span></div>
          <div class="stat"><strong id="statPosts">‚Äî</strong><span>Posts</span></div>
          <div class="stat"><strong id="statFarms">‚Äî</strong><span>Farms</span></div>
        </div>
      </section>
    </aside>

    <!-- Feed Column -->
    <section class="feedcol">
      <article class="card composer">
        <div class="composer-row">
          <div class="avatar small">üë§</div>
          <textarea id="composeText" rows="3" placeholder="Share your work, video, or insight‚Ä¶"></textarea>
        </div>
        <div class="composer-actions">
          <label class="file">
            <input id="composeFile" type="file" accept="image/*,video/*">
            <span class="file-btn">Choose file</span>
            <span class="file-name" id="fileName">No file chosen</span>
          </label>
          <div class="right">
            <button id="previewBtn" class="btn ghost">Preview</button>
            <button id="postBtn" class="btn primary">Post</button>
          </div>
        </div>
        <div id="preview" class="preview" hidden>
          <figure id="previewMedia"></figure>
        </div>
      </article>

      <div id="feed" class="stack"></div>
      <div id="loader" class="muted">Loading more posts‚Ä¶</div>
    </section>

    <!-- Right Column -->
    <aside class="rightcol">
      <section class="card tight">
        <h3>Trending Skills</h3>
        <ul id="trendingList"></ul>
      </section>
      <section class="card tight">
        <h3>Nearby Projects</h3>
        <ul id="nearbyList"><li class="muted">Enable location to see projects near you.</li></ul>
        <button id="enableGeo" class="btn ghost full">Use my location</button>
      </section>
      <section class="card tight">
        <h3>Data Analytics Preview</h3>
        <canvas id="skillsChart"></canvas>
        <canvas id="farmChart" style="margin-top:12px;"></canvas>
        <svg id="sparkline" viewBox="0 0 200 40" preserveAspectRatio="none" class="spark"></svg>
        <div class="kpis">
          <div class="kpi"><strong id="kpi1">‚Äî</strong><small>Skill demand</small></div>
          <div class="kpi"><strong id="kpi2">‚Äî</strong><small>Farm growth</small></div>
          <div class="kpi"><strong id="kpi3">‚Äî</strong><small>Avg approvals</small></div>
        </div>
      </section>
    </aside>
  </main>

  <!-- FAB -->
  <button id="fab" class="fab">Ôºã</button>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="./js/dashboard.js"></script>
</body>
</html>
